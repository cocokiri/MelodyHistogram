<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>BarTones</title>
    <link rel="stylesheet" href="style.css">
    <script src = "../MyFunctions/SwagLib.js"> </script>
</head>

<body>

    <div class="container" id="allBoxes">
        <div class="box box1">C</div>
        <div class="box box2">2</div>
        <div class="box box3">D</div>
        <div class="box box4">4</div>
        <div class="box box5">5</div>
        <div class="box box6">6</div>
        <div class="box box7">7</div>
        <div class="box box8">8</div>
        <div class="box box9">9</div>
        <div class="box box10">10</div>
    </div>

</body>

</html>

<script>
    window.addEventListener("load", init);

    let boxes;
    let frameCount = 0;
    let currentInput = 0;

    function init() {
        let boxesHTMLCollection = document.getElementById("allBoxes").children;
        boxes = [...boxesHTMLCollection]; //go from useless htmlCollection to Array!
        //= Array.from(boxesHTMLCollection);
        //= Array.prototype.slice.call( htmlCollection )
        //= [].slice.call(htmlCollection) //creates unnecessary array instance


        console.log(boxes.length);
        console.log(boxes);

        loop(); //sets counter to 0

    };
    function loop () {
        console.log(frameCount);
        frameCount++;

        if (frameCount >= 100) {frameCount = 0; currentInput++;}
        boxes[currentInput].style.background = NumberToHSLa(currentInput, undefined, undefined, 1);//"hsla(30,50%,50%," + (frameCount*frameCount)/(100*100); + ")";
        boxes[currentInput].style.height = 10 + frameCount/100 * currentInput * 10 + "vh";
        boxes[currentInput].style.opacity = frameCount/100
        boxes[currentInput].style.borderTopLeftRadius = frameCount/100 * Math.sin(Math.PI* frameCount/100) * 100 + "px";
        boxes[currentInput].style.borderTopRightRadius = frameCount/100 * Math.sin(Math.PI* frameCount/100) * 100 + "px";


        requestAnimationFrame(loop); //loop(frameCount) gives error as a callback
    }
    // function legitTone () {};
    // function setBoxHeight(box, height);
    //if (endofTone) / (newTone) animate or slap text on it



</script>
